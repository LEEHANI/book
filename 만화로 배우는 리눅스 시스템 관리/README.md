만화로 배우는 리눅스 시스템 관리    
===
:명령어 & 셸 스크립트 입문   

<br/>

## 1. 다른 컴퓨터를 리모트로 조작하고 싶어(SSH)    

SSH는 secure Shell의 약어   
다른 PC에 네트워크 경유로 로그인해서 자기 PC 처럼 조작 가능   
```  
ex) ssh user@127.0.0.1   
```  

<br/>  
## 2. 임시로 관리자 권한을 얻고 싶어(sudo)    

sudo 명령어로 임시 관리자 권한 획득 가능    
```   
ex) sudo launchctl load /Library/LaunchDaemons/org.jenkins-ci.plist  
```   

<br/>  
## 3. 다양한 문자열을 한 번에 검색하고 싶어(grep)  

grep: global regular expression print  
파일 내용에 문자열이 포함되어 있는지 검색  
정규 표현식과 같이 사용하면 좋다    
```   
ex) grep -r "may" /var/share    
-r 옵션은 서브 폴더까지 검색  
-E 옵션은 정규 표현식으로 검색    
-i 옵션은 대소문자를 무시하고 검색  
```   

<br/>  
## 4. 터미널에서도 대화형으로 파일을 편집하고 싶어(vim)
명령줄 텍스트 에디터의 vim은 vi의 강화판  
vim의 기본이 되는 vi는 일반적인 PC가 아직 없던 시대에 텐키나 커서 키, 마우스 등이 없던 환경을 위해 만들어짐. 그래서 하나의 키가 여러 역할을 하도록 설계되어 있음  
노멀 모드: 홈 화면. 다른 모드에서 ESC를 누르면 노멀 모드로 변경됨. :wq 하면 저장 후 종료  
끼워넣기 모드: 홈 화면에서 i 누르면 됨.  
검색 모드: 홈 화면에서 / 누른 후 찾고 싶은 문자열 입력. n 누르면 다음, shift는 이전 문자열로 이동. /\v 로 정규 표현식 가능    
``` 
ex) /name
    /\v(I|i|L)
``` 

<br/>  
## 5. vim에서도 복사 & 붙이기 & 되돌리기를 하고 싶어(yank)  
GUI 애플리케이션과 콘솔 애플리케이션은 전혀 다른 규칙으로 동작하기 때문에 Ctrl+C,V가 동작하지 않는다.    
복사: V 키 누르고 복사하고 싶은 영역까지 커서 옮긴 다음에 Y 누르기   
붙여넣기: Shift+P   
되돌리기: 노멀 모드에서 U 키   
되돌리기의 되살리기: Ctrl+R   

<br/>  
## 6. 갑작스러운 네트워크 끊김에서 복귀하고 싶어(가상 터미널)  
가상 단말은 내 콘솔과 다른 컴퓨터의 콘솔이 있을 때, 그 사이를 중계하는 역할을 한다.   
SSH 접속이 갑작스럽게 끊겨도 가상 단말은 계속 동작 상태이기 때문에 다시 접속하면 하던 작업을 이어서 할 수 있다.  
SSH로 서버 접속 후 tmux 명령어를 사용하면 가상 단말 실행됨    
갑작스럽게 접속 끊기면 SSH 접속 후 tmux attach 입력  
tmux에 대한 명령어를 입력하고 싶으면 Ctrl+B를 먼저 눌러야한다.
Ctrl+B -> D detach
Ctrl+B -> C create
Ctrl+B -> P previous
Ctrl+B -> N next
그외에 scree, byobu가 있다. 

<br/>  
## 7. 다른 화면도 보면서 작업하고 싶어(화면 분할) 
tmux 단말에서 화면 분할   
- 가로 분할: Ctrl+B, "  
- 세로 분할: Ctrl+B, %  
- 포커스 이동: Ctrl+B, 상하좌우 방향키  
- 분할 해제: exit  
- 스크롤: Ctrl+B, [ ]  


<br/>  
## 8. 최근 실행한 명령어를 호출하고 싶어(명령어 이력)    
- 사용자가 입력한 명령어 이력:   
```
vim ~/.bash_history
```
- 명령어 이력 부르기: 위쪽 방향키    
- 후방(이전) 검색 ```Ctrl + R ```  
- 전방(이후) 검색 ```Ctrl + S ```  
- 전방 검색을 하려면 ```~/.bashrc``` 파일에 맨 밑에 ```stty stop undef```설정 추가하고 ```source ~/.bashrc``` 명령어로 적용 시켜야 쓸수있음  


<br/>